angular.module("admin.main.controllers",["resource.users"]).controller("GlobalController",["$scope","$location","account","version","$localStorage",function(n,t,i,r,u){return i.get().then(function(t){return n.User=t}),r.get().then(function(t){if(t.length)return n.newVersion=t[0],n.newVersion.ver!==u.ver?n.newVersion.showDialog=!0:void 0}),n.versionClick=function(){return u.ver=n.newVersion.ver,n.newVersion.showDialog=!1}}]).controller("LoginController",["$scope","$window","User",function(n,t,i){return n.signin=function(){return n.submitting=!0,i.signin({id:"(1)"},n.user,function(){return n.submitting=!1,t.location.href="/admin/"},function(t){return n.error=t.data["odata.error"].innererror.message,n.user.Password="",n.submitting=!1})},n.signout=function(){return n.submitting=!0,i.signout({id:"(1)"},function(){return n.submitting=!1,t.location.href="/"})},n.backHome=function(){return t.location.href="/"}}])