angular.module("admin-basedata-channel",[]).config(["$routeProvider",function(n){return n.when("/channel",{templateUrl:"/content/app/admin/basedata/channel/basedata-channel.tpl.html",controller:"ChannelCtrl"})}]).controller("ChannelCtrl",["$scope","$dialog","Channel",function(n,t,i){var r;return n.entity={},r=function(){return n.loading="Loading",i.query(function(t){return n.list=t,n.loading=""})},n.add=function(){return n.entity={},n.editDialog=!0},n.edit=function(t){return n.entity=angular.copy(t),n.editDialog=!0},n.save=function(){return n.loading="Saving",n.entity.ChannelId?i.edit({id:"(guid'"+n.entity.ChannelId+"')"},n.entity,function(){return message.success("Edit channel successfully."),n.close(),r()}):(n.entity.ChannelId=UUID.generate(),i.save(n.entity,function(){return message.success("Add channel successfully."),n.close(),r()}))},n.remove=function(t){return message.confirm(function(){return n.loading="Deleting",t.IsDeleted=!0,i.edit({id:"(guid'"+t.ChannelId+"')"},t,function(){return message.success("Delete channel successfully."),r()})})},n.close=function(){return n.editDialog=!1},r()}])