angular.module("article-list",["resource.articles"]).config(["$routeProvider",function(n){return n.when("/list/:channel/:group/:type/:query",{templateUrl:"/Content/app/article/list/article-list.tpl.html",controller:"ArticleListCtrl"}).when("/list/:channel/:group",{templateUrl:"/Content/app/article/list/article-list.tpl.html",controller:"ArticleListCtrl"}).when("/list/:channel",{templateUrl:"/Content/app/article/list/article-list.tpl.html",controller:"ArticleListCtrl",resolve:{articles:["$route","$q","Article",function(n,t,i){var r,f,u;return r=t.defer(),f="IsDeleted eq false",i.queryOnce({$filter:"IsDeleted eq false and Group/Channel/Url eq '"+n.current.params.channel+"'",$skip:((u=n.current.params.p)!=null?u:1)*10-10},function(n){return r.resolve(n)}),r.promise}]}}).when("/search/:key",{templateUrl:"/Content/app/article/list/article-list.tpl.html",controller:"ArticleListCtrl"})}]).controller("ArticleListCtrl",["$scope","$window","$translate","$routeParams","$location","Article","articles",function(n,t,i,r,u,f,e){var o,s,h;return n.$parent.showBanner=!1,n.$parent.title=(o=(s=r.group)!=null?s:r.channel)!=null?o:"Search Result '"+n.key+"'",n.currentPage=(h=r.p)!=null?h:1,n.params={channel:r.channel,group:r.group,key:r.key,tag:r.type==="tag"?r.query:""},n.setPage=function(n){return u.search({p:n})},scroll(0,0),n.list=e,n.edit=function(n){return t.location.href="/admin/article('"+n.PostId+"')"}}])