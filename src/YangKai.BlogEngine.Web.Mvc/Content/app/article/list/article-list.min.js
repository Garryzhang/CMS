angular.module("article-list",[]).config(["$routeProvider",function(n){return n.when("/list/:channel/:group/:type/:query",{templateUrl:"/Content/app/article/list/article-list.tpl.html",controller:"ArticleListCtrl"}).when("/list/:channel/:group",{templateUrl:"/Content/app/article/list/article-list.tpl.html",controller:"ArticleListCtrl"}).when("/list/:channel",{templateUrl:"/Content/app/article/list/article-list.tpl.html",controller:"ArticleListCtrl"}).when("/search/:key",{templateUrl:"/Content/app/article/list/article-list.tpl.html",controller:"ArticleListCtrl"})}]).controller("ArticleListCtrl",["$scope","$window","$translate","$routeParams","$location","Article",function(n,t,i,r,u,f){var e,o,s;return n.$parent.showBanner=!1,n.$parent.title=(e=(o=r.group)!=null?o:r.channel)!=null?e:"Search Result '"+n.key+"'",n.currentPage=(s=r.p)!=null?s:1,n.params={channel:r.channel,group:r.group,key:r.key,category:r.type==="category"?r.query:"",tag:r.type==="tag"?r.query:""},n.setPage=function(n){return u.search({p:n})},n.load=function(){var t;return n.loading="Loading",t="IsDeleted eq false",n.params.channel&&(t+=" and Group/Channel/Url eq '"+n.params.channel+"'"),n.params.group&&(t+=" and Group/Url eq '"+n.params.group+"'"),n.params.key&&(t+=" and indexof(Title, '"+n.params.key+"') gt -1"),n.params.category&&(t+=" and Categorys/any(category:category/Url eq '"+n.params.category+"')"),n.params.tag&&(t+=" and Tags/any(tag:tag/Name eq '"+n.params.tag+"')"),f.query({$filter:t,$skip:(n.currentPage-1)*10},function(t){return scroll(0,0),n.list=t,n.loading=""})},n.edit=function(n){return t.location.href="/admin/#!/article('"+n.PostId+"')"},n.load(n.currentPage)}])