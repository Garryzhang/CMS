angular.module("main.controllers",["resource.channels","resource.users","ChannelServices"]).controller("GlobalController",["$scope","$http","$location","$window","Channel","account","$timeout","channel",function(n,t,i,r,u,f){return f.get().then(function(t){return n.User=t}),n.$on("ChannelChange",function(t,i){return n.channelUrl=i.Url})}]).controller("TopController",["$scope","$http","$location","$window","Channel","account","$timeout","channel",function(n,t,i,r){return n.login=function(){return r.location.href="/admin/"}}]).controller("HeaderController",["$scope","$http","$location","$window","Channel","account","$timeout","channel",function(n,t,i,r,u,f,e,o){return o.get().then(function(t){return n.Channels=t}),n.isActiveChannel=function(t){return t.IsDefault&&(i.path()==="/"||i.path()==="/list")?!0:i.path().indexOf(t.Url)>-1?!0:i.path().indexOf("/post")>-1&&t.Url.indexOf(n.channelUrl)>-1},n.isActive=function(n){return n===i.path()},n.search=function(){return i.path("/search/"+n.key)}}])