var ArchivesController=["$scope","Channel",function(n,t){return n.$parent.title="Archives",n.$parent.showBanner=!1,n.load=function(){return n.loading="Loading",t.archives(function(t){var u,f,e,o,i,r,l,p,s,h,c,w,b,k,a,v,y;for(i={},a=t.value,s=0,w=a.length;s<w;s++)if(u=a[s],!u.IsDeleted)for(v=u.Groups,h=0,b=v.length;h<b;h++)if(e=v[h],!e.IsDeleted)for(y=e.Posts,c=0,k=y.length;c<k;c++)(r=y[c],r.IsDeleted)||(f=moment(r.PubDate).format("YYYY-MM"),i[f]||(i[f]=[]),r.group=e.Name,r.channel=u.Name,i[f].push(r));l=[];for(o in i)p=i[o],i.hasOwnProperty(o)&&l.push({date:o,posts:p});return n.list=l,n.loading=""})},n.load()}]