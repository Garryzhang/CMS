var AdminGroupController=["$scope","$dialog","$routeParams","Group","Channel",function(n,t,i,r,u){var f;return u.query({$filter:"Url eq '"+i.channel+"'"},function(t){return n.channel=t.value[0]}),n.entity={},f=function(){return r.query({$filter:"IsDeleted eq false and Channel/Url eq '"+i.channel+"'"},function(t){return n.list=t})},n.add=function(){return n.entity={},n.editDialog=!0},n.edit=function(t){return n.entity=angular.copy(t),n.editDialog=!0},n.save=function(){return n.entity.Channel=n.channel,n.entity.GroupId?r.edit({id:"(guid'"+n.entity.GroupId+"')"},n.entity,function(){return message.success("Edit group successfully."),n.close(),f()}):(n.entity.GroupId=UUID.generate(),r.save(n.entity,function(){return message.success("Add group successfully."),n.close(),f()}))},n.remove=function(n){return message.confirm(function(){return n.IsDeleted=!0,r.edit({id:"(guid'"+n.GroupId+"')"},n,function(){return message.success("Delete group successfully."),f()})})},n.close=function(){return n.editDialog=!1},f()}]